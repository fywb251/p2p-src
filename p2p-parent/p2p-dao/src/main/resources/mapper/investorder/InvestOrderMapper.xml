<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.herongwang.p2p.dao.investorder.IInvestOrderDao">
	<resultMap id="InvestorderResultMap" type="com.herongwang.p2p.entity.investorder.InvestOrderEntity">
		<id property="orderId" column="orderId" jdbcType="VARCHAR" />
		<result property="debtId" column="debtId" jdbcType="VARCHAR" />
		<result property="customerId" column="customerId" jdbcType="VARCHAR" />
		<result property="amount" column="amount" jdbcType="INTEGER"/>
		<result property="createTime" column="createTime" jdbcType="TIMESTAMP" />
		<result property="status" column="status" jdbcType="INTEGER" />
		<result property="channel" column="channel" jdbcType="INTEGER" />
		<result property="payTime" column="payTime" jdbcType="TIMESTAMP" />
		<result property="arriveTime" column="arriveTime" jdbcType="TIMESTAMP" />
		<result property="specifAttr" column="specifAttr" jdbcType="INTEGER" />
        <result property="dueTotalAmount" column="dueTotalAmount" jdbcType="INTEGER"/>
        <result property="dueProfitAmount" column="dueProfitAmount" jdbcType="INTEGER" />
        <result property="yearRatio" column="yearRatio" jdbcType="FLOAT" />
        <result property="monthRatio" column="monthRatio" jdbcType="FLOAT" />	
        <result property="dayRatio" column="dayRatio" jdbcType="FLOAT" />
        <result property="totalFee" column="totalFee" jdbcType="INTEGER"/>	
	</resultMap>
	
    <!-- 条件查询订单列表 -->
	<select id="query" resultMap="InvestorderResultMap"
		parameterType="com.sxj.util.persistent.QueryCondition">
		<![CDATA[select i.* from InvestOrder i WHERE 1=1 ]]>

		<if test="condition.debtId != null and condition.debtId != ''">
			<![CDATA[AND i.debtId =#{condition.debtId}]]>
		</if>
		<![CDATA[ ORDER BY i.createTime DESC]]>
	</select>
</mapper>
